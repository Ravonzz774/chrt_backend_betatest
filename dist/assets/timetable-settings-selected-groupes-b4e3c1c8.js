import"./modulepreload-polyfill-3cfb730f.js";axios.defaults.withCredentials=!0;const y=(l="")=>axios.get(l,{method:"GET",withCredentials:!0}).then(e=>e.data);function f(l){let e=[],a=0;for(let u of l){e.push({course:u.course,groups:[]});for(let n of u.groups)e[a].groups.push({id:n.id,name:n.name});a+=1}return e}const h=document.querySelector(".selected__items"),S=async()=>{let l=await y("http://localhost:5000/api/timetable"),e=f(l);document.querySelector(".loading").style.transition="opacity, .5s",document.querySelector(".loading").style.opacity="0",document.querySelector(".loading").style.zIndex="-1";const n=document.cookie.split(";").find(t=>t.trim().startsWith("myArray="));let c=null;n&&(c=n.split("=")[1]);let o=null;c&&(o=JSON.parse(c));let p,g;for(let t=0;t<o.length;t++){for(let i=0;i<e.length;i++)for(let s=0;s<e[i].groups.length;s++)if(o[t]==e[i].groups[s].id){p=e[i].groups[s].name,g=e[i].groups[s].id;continue}let r=document.createElement("p");r.innerText=p,r.id=g;let d=document.createElement("a");d.id="groupe-remover",d.innerHTML='<img src="public/img/cancel-icon.svg" alt="">';let m=document.createElement("div");m.id="selected-item",m.append(r,d),h.append(m)}document.querySelectorAll("#groupe-remover").forEach(t=>{t.addEventListener("click",function(){t.parentNode.remove();for(let r in o)o[r]==t.previousSibling.id&&o.splice(r,1);document.cookie=`myArray=${JSON.stringify(o)}`})})};S();
