import"./modulepreload-polyfill-3cfb730f.js";import"./teacher-search-78c31b0d.js";const y=document.getElementById("timetable-settings-student-btn"),E=document.getElementById("timetable-settings-teacher-btn"),S=document.getElementById("timtable-settings-page-disabler"),h=document.querySelectorAll("#menu-page-disabler");y.nextElementSibling.style.background="#4D4C4C";function k(){if(y.checked?(y.nextElementSibling.style.background="#4D4C4C",S.style.display="none"):(y.nextElementSibling.style.background="#272727",S.style.display="block"),E.checked){for(let c=0;c<h.length;c++)h[c].style.display="none";E.nextElementSibling.style.background="#4D4C4C"}else{E.nextElementSibling.style.background="#272727";for(let c=0;c<h.length;c++)h[c].style.display="flex"}}y.addEventListener("change",k);E.addEventListener("change",k);const r=document.getElementById("timetable-settings-1st-course-btn"),d=document.getElementById("timetable-settings-2nd-course-btn"),a=document.getElementById("timetable-settings-3rd-course-btn"),g=document.getElementById("timetable-settings-4th-course-btn"),m=document.getElementById("timetable-settings-5th-course-btn");function f(){switch(!0){case r.checked:r.nextElementSibling.style.color="#fff",d.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",a.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",g.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",m.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)";break;case d.checked:d.nextElementSibling.style.color="#fff",r.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",a.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",g.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",m.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)";break;case a.checked:r.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",d.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",g.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",m.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",a.nextElementSibling.style.color="#fff";break;case g.checked:r.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",d.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",a.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",m.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",g.nextElementSibling.style.color="#fff";break;case m.checked:m.nextElementSibling.style.color="#fff",r.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",d.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",a.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",g.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)";break;default:r.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",d.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",a.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",g.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)",m.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)";break}}r.addEventListener("change",f);d.addEventListener("change",f);a.addEventListener("change",f);g.addEventListener("change",f);m.addEventListener("change",f);let x=document.getElementById("groupe-list"),b=document.getElementById("groupe-select-list");b.addEventListener("click",function(){x.style.display=="flex"?(x.style.display="none",b.style.transition="all, .2s",b.style.rotate="0deg"):(x.style.display="flex",b.style.transition="all, .2s",b.style.rotate="-90deg")});axios.defaults.withCredentials=!0;const B=(c="")=>axios.get(c,{method:"GET",withCredentials:!0}).then(i=>i.data);function I(c){let i=[],s=0;for(let p of c){i.push({course:p.course,groups:[]});for(let n of p.groups)i[s].groups.push({id:n.id,name:n.name});s+=1}return i}const L=document.getElementById("timetable-settings-1st-course-btn"),C=document.getElementById("timetable-settings-2nd-course-btn"),_=document.getElementById("timetable-settings-3rd-course-btn"),N=document.getElementById("timetable-settings-4th-course-btn"),w=document.getElementById("timetable-settings-5th-course-btn"),u=document.querySelector(".groupe__list"),T=document.getElementById("timetable-settings-save-btn"),A=async()=>{let c=await B("http://localhost:5000/api/timetable");document.querySelector(".loading").style.transition="opacity, .5s",document.querySelector(".loading").style.opacity="0",document.querySelector(".loading").style.zIndex="-1";let i=I(c),s=document.cookie;for(let t of i[0].groups){if(s.includes(t.id))continue;let e=document.createElement("input");e.type="checkbox",e.id=t.id;let l=document.createElement("label");l.htmlFor=t.id,l.innerText=t.name;let o=document.createElement("div");o.append(e,l),u.append(o),e.addEventListener("change",function(){e.checked?e.nextElementSibling.style.color="#fff":e.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)"})}for(let t of i[1].groups){if(s.includes(t.id))continue;let e=document.createElement("input");e.type="checkbox",e.id=t.id;let l=document.createElement("label");l.htmlFor=t.id,l.innerText=t.name;let o=document.createElement("div");o.append(e,l),u.append(o),e.addEventListener("change",function(){e.checked?e.nextElementSibling.style.color="#fff":e.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)"})}for(let t of i[2].groups){if(s.includes(t.id))continue;let e=document.createElement("input");e.type="checkbox",e.id=t.id;let l=document.createElement("label");l.htmlFor=t.id,l.innerText=t.name;let o=document.createElement("div");o.append(e,l),u.append(o),e.addEventListener("change",function(){e.checked?e.nextElementSibling.style.color="#fff":e.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)"})}for(let t of i[3].groups){if(s.includes(t.id))continue;let e=document.createElement("input");e.type="checkbox",e.id=t.id;let l=document.createElement("label");l.htmlFor=t.id,l.innerText=t.name;let o=document.createElement("div");o.append(e,l),u.append(o),e.addEventListener("change",function(){e.checked?e.nextElementSibling.style.color="#fff":e.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)"})}for(let t of i[4].groups){if(s.includes(t.id))continue;let e=document.createElement("input");e.type="checkbox",e.id=t.id;let l=document.createElement("label");l.htmlFor=t.id,l.innerText=t.name;let o=document.createElement("div");o.append(e,l),u.append(o),e.addEventListener("change",function(){e.checked?e.nextElementSibling.style.color="#fff":e.nextElementSibling.style.color="rgba(255, 255, 255, 0.50)"})}let n=document.getElementById("groupe-list").childNodes;for(let t=0;t<n.length;t++)n[t].style.display="none";L.addEventListener("change",async function(){for(let t=0;t<n.length;t++)n[t].style.display="none";for(let t of i[0].groups)for(let e=0;e<n.length;e++)n[e].childNodes[0].id==t.id&&(n[e].style.display="block")}),C.addEventListener("change",async function(){for(let t=0;t<n.length;t++)n[t].style.display="none";for(let t of i[1].groups)for(let e=0;e<n.length;e++)n[e].childNodes[0].id==t.id&&(n[e].style.display="block")}),_.addEventListener("change",async function(){for(let t=0;t<n.length;t++)n[t].style.display="none";for(let t of i[2].groups)for(let e=0;e<n.length;e++)n[e].childNodes[0].id==t.id&&(n[e].style.display="block")}),N.addEventListener("change",async function(){for(let t=0;t<n.length;t++)n[t].style.display="none";for(let t of i[3].groups)for(let e=0;e<n.length;e++)n[e].childNodes[0].id==t.id&&(n[e].style.display="block")}),w.addEventListener("change",function(){for(let t=0;t<n.length;t++)n[t].style.display="none";for(let t of i[4].groups)for(let e=0;e<n.length;e++)n[e].childNodes[0].id==t.id&&(n[e].style.display="block")}),T.addEventListener("click",async function(){let t=[];for(let e=0;e<n.length;e++)n[e].childNodes[0].checked&&t.push(n[e].childNodes[0].id);if(t.length!=0){const e=document.cookie.split("; ").find(v=>v.startsWith("myArray=")),o=(e?JSON.parse(e.split("=")[1]):[]).concat(t);document.cookie=`myArray=${JSON.stringify(o)}`}console.log(document.cookie),setTimeout(window.location.href="timetable-settings-selected-groupes.html",1e3)})};A();
